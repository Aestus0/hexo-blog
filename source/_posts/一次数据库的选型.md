---
title: 一次数据库的选型
date: 2019-07-22 16:22:51
tags: database
---
![u9JLVkiZldU.jpg](https://i.loli.net/2019/07/22/5d3572b9b99cd92815.jpg)

# 一次数据库的选型

 最近工作上要做一个大数据产品，比较缺乏经验，开始时使用的时mysql存储相关数据。但是考虑到数据量在可预见的未来回变得极大。使用mysql存储爬虫信息，并进行大数据分析，似乎不太可取。就做了一次选型，比较了一下关系型数据库以及nosql数据库。
 
## 关系型数据库与nosql数据库的比较

### 关系型数据库

* 适合存储结构化的数据，如用户的账号、地址: 
* 数据需要做结构化查询，如join 
* 数据的规模，增长速度可以预期。表结构不不会存在过多的变动。 
* 事务性，强一致性

关系型数据库一般存储具有较强结构的数据，具有事务，追求数据的准确性时建议使用。

### nosql数据库

* NoSql适合非结构化数据，如评论，文章等: 
* 数据需要模糊查询 
* 数据量大，且增长难以预期 
* 数据结构灵 活修改 
* 对于数据的及时性，要求较低，数据修改后不会立即体现。即数据的最终一致性。 
* nosql数据库一般拥有无限伸缩性，对海量数据的支持较好 
* 按key获取数据效率很⾼高，但对于join或者其他结构化的查询支持较差

nosql经常用来存储海量数据库，存储性能高，查询性能比起关系型数据库一般回比较逊色。存储的数据结构，以key-value较多，复杂的查询可能难以支持。

### 总结

* 考虑到使用场景，以及代价、原有的系统架构。基础服务仍然使用mysql，通过事务可以保证数据较强的准确性
* 爬虫以及数据分析相关的搬迁到nosql数据库上去。
    1. 这类数据对与准确性的要求不高，只要数据的最终一致性。
    2. 而且一般不存在复杂的查询。
    3. 数据结构不固定

## nosql数据库比较

nosql数据库的选型，主要挑选了几个流行的数据库做比较。

### cassandra
   
facebook开发的分布式数据库，实现复杂度⾼高，文档少，国内实践和应用案例少。

### Elastic Search

适用于作为全文搜索引擎 

### HBASE

1. 支持海量数据，存储空间扩展能力极强
2. 列式存储导致查询多列信息时效率低下。
3. 适合写入简单的数据。
4. HBASE是一款很重的产品，需要依赖很多的Hadoop组件。在数据规模不够庞大的情况下。没有使用的必要。
5. 适合写多读少的场景
6. 可以记录历史版本的数据

### MongoDB

1. 介于关系型和非关系型的数据库。支持索引。
2. MongoDB在查询方面比HBASE具备更多优势，支持更复杂的几何查找。 
3. JSON的存储结构，便便于扩展，且⽀支持复杂的结构。